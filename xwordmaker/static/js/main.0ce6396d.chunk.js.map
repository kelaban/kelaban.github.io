{"version":3,"sources":["constants.js","XGrid.js","NewPuzzleForm.js","helpers.js","KeyPressHandler.js","Clues.js","Print.js","App.js","serviceWorker.js","index.js"],"names":["DIRECTION_ACROSS","DIRECTION_DOWN","isDirectionAcross","v","isBlockedSquare","Grid","grid","selected","currentWord","hideAnswers","onClick","size","rows","cols","gridItems","Array","keys","map","i","row","Math","floor","column","val","classNames","push","coordinates","some","cn","join","style","fontSize","length","key","className","gridnums","gridTemplateColumns","gridTemplateRows","useStyles","makeStyles","theme","textField","marginLeft","spacing","marginRight","NewPuzzleForm","onSave","classes","React","useState","open","setOpen","values","setValues","handleClose","save","handleChange","dir","event","Object","assign","target","value","Button","aria-label","color","startIcon","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","TextField","label","onChange","type","InputLabelProps","shrink","margin","variant","inputProps","min","max","DialogActions","coord2dTo1d","col","valFrom2d","Movement","props","right","setSelected","width","left","up","down","height","moveForward","direction","moveBack","this","KeyPressHandler","setRotationalSymettry","handleBackspace","e","movement","updateGrid","old","handleLetter","k","toUpperCase","ctrlKey","handleSpace","setCurrentWord","handleLeft","handleRight","handleUp","handleDown","MOVE_UP","MOVE_LEFT","MOVE_RIGHT","MOVE_DOWN","ENTER_LETTER","BACKSPACE","SPACE","keyMap","split","noOutline","outline","KeyPressHandlerComponent","hasFocus","setGridFocus","kph","handlers","handleFocus","_hasFocus","useEffect","forEach","cb","mousetrap","bind","unbind","onFocus","onBlur","tabIndex","children","decode","input","DOMParser","parseFromString","documentElement","textContent","memo","onClueFocus","onClueChanged","clueNum","handleUpdateWord","word","mapClues","d","toLowerCase","clues","clue","answers","match","trim","clueText","replace","disabled","error","defaultValue","fullWidth","across","container","item","xs","Typography","PrintView","liStyle","listStyleType","mapClue","overflow","marginTop","float","columnCount","padding","root","display","title","flexGrow","paddingLeft","paddingRight","paddingTop","paper","scroll","maxHeight","WORDLIST","WordList","words","setWordsState","filtered","setFiltered","fetch","process","then","resp","text","filter","l","startsWith","w","setWords","query","RegExp","List","dense","slice","ListItem","button","TabPanel","index","calcNumbersAndAnswers","wordToClue","out","r","num","j","isNewDown","isNewAcross","start","makePuzzle","g","author","editor","copyright","publisher","date","circles","parseWordToClue","newWordToClue","parse","reduce","acc","ww","initialGridState","JSON","localStorage","getItem","currentWordInitialState","ReactiveGrid","setWidth","gridRef","createRef","handleResize","current","clientWidth","window","addEventListener","removeEventListener","ref","App","useTheme","isPrint","setIsPrint","tabValue","handleTabChanged","motionState","setMotionState","gridState","updateAllGridState","updateGridState","nextGrid","extraState","prevState","nextState","useCallback","setItem","stringify","nextCw","valFor","x","isNotEnd","end","calcCurrentWord","nextSelected","nextCurrentWord","handleClueFocus","handleClueChanged","updateWordToClue","handleWordListClicked","coord","clsGridPaper","clsx","clsScrollPaper","kphProps","matchMedia","addListener","matches","onbeforeprint","onafterprint","separateGrid","useMediaQuery","breakpoints","tabs","Paper","gridComponent","_gridComponent","renderedTabs","Fragment","Tabs","nv","t","Tab","AppBar","position","Toolbar","blob","Blob","saveAs","component","reader","FileReader","onload","result","newGrid","readAsText","files","Container","lg","Boolean","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0ce6396d.chunk.js","sourcesContent":["\nexport const DIRECTION_ACROSS = \"ACROSS\"\nexport const DIRECTION_DOWN = \"DOWN\"\nexport const isDirectionAcross = (v) => v === DIRECTION_ACROSS\n\n\nexport const BLOCKED_SQUARE = '.'\nexport const isBlockedSquare = (v) => v === BLOCKED_SQUARE\n","import React from 'react';\nimport './XGrid.css';\nimport { isBlockedSquare }  from './constants';\n\nexport default function Grid({grid, selected, currentWord, hideAnswers, onClick}) {\n  const {rows, cols} = grid.size\n  // go from 0 -> width*height and map to a block in the view\n  const gridItems = [...Array(rows*cols).keys()]\n      .map(i => {\n        const row = Math.floor(i / cols)\n        const column = Math.floor(i % cols)\n        const val =  grid.grid[i]\n        const isSelected = selected && selected.row === row && selected.column === column\n        let classNames = [\"Grid-item\"]\n        if(isSelected) {\n          classNames.push(\"Grid-item-selected\")\n        } else if (isBlockedSquare(val)) {\n          classNames.push(\"Grid-item-blocked\")\n        } else if (currentWord && currentWord.coordinates.some(i => i[0] === row && i[1] === column)) {\n          classNames.push(\"Grid-item-highlight\")\n        }\n        const cn = classNames.join(\" \")\n        const style = {\n          fontSize: `${(1/(val.length))*1.1}em`\n        }\n\n        return (\n          <div key={i} className={cn} onClick={() => onClick({row, column})}>\n            <span className=\"Grid-number\">{grid.gridnums[i] > 0 ? grid.gridnums[i] : ''}</span>\n            <span style={style}>{hideAnswers ? ' ' : val}</span>\n          </div>\n        )\n      })\n\n  return (\n    <div\n      style={{\n        gridTemplateColumns: `repeat(${cols}, 1fr)`,\n        gridTemplateRows: `repeat(${rows}, 1fr)`,\n      }}\n      className=\"Grid-container\"\n    >\n      {gridItems}\n    </div>\n  )\n}\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles(theme => ({\n  textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n}));\n\nexport default function NewPuzzleForm({onSave}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [values, setValues] = React.useState({rows: 15, cols: 15})\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (save) => () => {\n    setOpen(false);\n\n    if(save) {\n      onSave(values)\n    }\n\n  };\n\n  const handleChange = (dir) => (event) => {\n    setValues(Object.assign({}, values, {[dir]: +event.target.value || ''}))\n  }\n\n  return (\n    <div>\n        <Button\n          aria-label=\"New puzzle\"\n          color=\"inherit\"\n          startIcon={<AddIcon />}\n          onClick={handleClickOpen}\n        >\n          New Puzzle\n        </Button>\n      <Dialog open={open} onClose={handleClose(false)}>\n        <DialogTitle>Create New Puzzle</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Create a new puzzle. Warning! This will destroy the current puzzle. Make sure to save first!\n          </DialogContentText>\n          <TextField\n            label=\"Rows\"\n            value={values.rows}\n            onChange={handleChange('rows')}\n            className={classes.textField}\n            type=\"number\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            margin=\"normal\"\n            variant=\"outlined\"\n            inputProps={{\n              min: 1,\n              max: 100\n            }}\n          />\n          <TextField\n            label=\"Columns\"\n            value={values.cols}\n            onChange={handleChange('cols')}\n            className={classes.textField}\n            type=\"number\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            margin=\"normal\"\n            variant=\"outlined\"\n            inputProps={{\n              min: 1,\n              max: 100\n            }}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose(false)} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleClose(true)} color=\"primary\">\n            Create\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","\nexport const coord2dTo1d = (grid, row, col) => (grid.size.cols*row)+col\nexport const valFrom2d = (grid, row, col) => grid.grid[coord2dTo1d(grid, row, col)]\n","import React, { Component, useEffect, useState } from 'react';\nimport {\n  isDirectionAcross,\n  isBlockedSquare,\n  DIRECTION_ACROSS,\n  DIRECTION_DOWN,\n  BLOCKED_SQUARE\n}  from './constants';\nimport {\ncoord2dTo1d,\nvalFrom2d\n} from './helpers';\n\nimport mousetrap from 'mousetrap'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nclass Movement {\n  constructor(props) {\n    const {selected, width, height, currentWord, setSelected} = props\n    this.width = width\n    this.height = height\n    this.selected = selected\n    this.setSelected = setSelected\n    this.currentWord = currentWord\n  }\n\n  right = () => {\n    this.setSelected({\n      row: this.selected.row,\n      column: Math.min(this.width-1, this.selected.column+1)\n    })\n  }\n\n  left = () => {\n    this.setSelected({\n      row: this.selected.row,\n      column: Math.max(0, this.selected.column-1)\n    })\n  }\n  up = () => {\n    this.setSelected({\n      row: Math.max(0, this.selected.row-1),\n      column: this.selected.column\n    })\n  }\n\n  down = () => {\n    this.setSelected({\n      row: Math.min(this.height-1, this.selected.row+1),\n      column: this.selected.column\n    })\n  }\n\n  moveForward = () => {\n    if (isDirectionAcross(this.currentWord.direction)) {\n      this.right()\n    } else {\n      this.down()\n    }\n  }\n  moveBack = () => {\n    if (isDirectionAcross(this.currentWord.direction)) {\n      this.left()\n    } else {\n      this.up()\n    }\n  }\n}\n\nclass KeyPressHandler {\n  constructor(props) {\n    this.selected = props.selected\n    this.setSelected = props.setSelected\n    this.currentWord = props.currentWord\n    this.setCurrentWord = props.setCurrentWord\n    this.grid = props.grid\n    this.updateGrid = props.updateGrid\n    this.rows = props.grid.size.rows\n    this.cols = props.grid.size.cols\n    this.movement = new Movement({\n      width: props.grid.size.cols,\n      height: props.grid.size.rows,\n      setSelected: props.setSelected,\n      currentWord: props.currentWord,\n      selected: props.selected\n    })\n  }\n\n  setRotationalSymettry = (v) => {\n    this.grid.grid[coord2dTo1d(this.grid, this.rows - this.selected.row - 1, this.cols - this.selected.column - 1)] = v\n  }\n\n  handleBackspace = (e) => {\n    const {grid, selected, rows, cols, movement, updateGrid} = this\n\n    const old = valFrom2d(grid, selected.row, selected.column)\n\n    if (isBlockedSquare(old)) {\n      this.setRotationalSymettry('')\n    }\n\n    grid.grid[coord2dTo1d(grid, selected.row, selected.column)] = ''\n\n    movement.moveBack()\n    updateGrid(grid)\n  }\n\n  handleLetter = (e) => {\n    let k = e.key.toUpperCase()\n    const {grid, selected, rows, cols, movement, updateGrid} = this\n\n    if(e.key === BLOCKED_SQUARE) {\n      grid.grid[coord2dTo1d(grid, selected.row, selected.column)] = k\n      this.setRotationalSymettry(k)\n      movement.moveForward()\n      updateGrid(grid)\n    } else if (e.ctrlKey) {\n      grid.grid[coord2dTo1d(grid, selected.row, selected.column)] += k\n      updateGrid(grid)\n    } else {\n      const old = valFrom2d(grid, selected.row, selected.column)\n      if (isBlockedSquare(old)) {\n        this.setRotationalSymettry('')\n      }\n      grid.grid[coord2dTo1d(grid, selected.row, selected.column)] = k\n      movement.moveForward()\n      updateGrid(grid)\n    }\n  }\n\n  handleSpace = (e) => {\n    const {setCurrentWord, currentWord} = this\n    setCurrentWord(Object.assign({}, currentWord, {\n      direction: isDirectionAcross(currentWord.direction) ? DIRECTION_DOWN : DIRECTION_ACROSS\n    }))\n  }\n\n  handleLeft = () => {\n    this.movement.left()\n  }\n\n  handleRight = () => {\n    this.movement.right()\n  }\n\n  handleUp = () => {\n    this.movement.up()\n  }\n\n  handleDown = () => {\n    this.movement.down()\n  }\n}\n\nconst MOVE_UP = 'MOVE_UP'\nconst MOVE_LEFT = 'MOVE_LEFT'\nconst MOVE_RIGHT = 'MOVE_RIGHT'\nconst MOVE_DOWN = 'MOVE_DOWN'\nconst ENTER_LETTER = 'ENTER_LETTER'\nconst BACKSPACE = 'BACKSPACE'\nconst SPACE = 'SPACE'\n\nconst keyMap = {\n  [MOVE_UP]: 'up',\n  [MOVE_DOWN]: 'down',\n  [MOVE_LEFT]: 'left',\n  [MOVE_RIGHT]: 'right',\n  [ENTER_LETTER]: \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.\".split(''),\n  [BACKSPACE]: ['del', 'backspace'],\n  [SPACE]: 'space'\n}\n\nconst useStyles = makeStyles(theme => ({\n noOutline: {\n    \"&:focus\": {\n      outline: 0,\n    }\n }\n}))\n\n\nexport default function KeyPressHandlerComponent(props) {\n  const classes = useStyles()\n\n  const [hasFocus, setGridFocus] = useState(false)\n\n  const kph = new KeyPressHandler(props)\n\n  const handlers = {\n    [MOVE_UP]: kph.handleUp,\n    [MOVE_DOWN]: kph.handleDown,\n    [MOVE_LEFT]: kph.handleLeft,\n    [MOVE_RIGHT]: kph.handleRight,\n    [ENTER_LETTER]: kph.handleLetter,\n    [BACKSPACE]: kph.handleBackspace,\n    [SPACE]: kph.handleSpace,\n  }\n\n  const handleFocus = _hasFocus => e => {\n    setGridFocus(_hasFocus)\n  }\n\n  const withFocus = cb => (e) => hasFocus && cb(e)\n\n  useEffect(() => {\n    Object.keys(keyMap).forEach((k) => {\n      mousetrap.bind(keyMap[k], withFocus(handlers[k]))\n    })\n    return () => {\n      Object.keys(keyMap).forEach((k) => {\n        mousetrap.unbind(keyMap[k])\n      })\n    }\n  })\n\n\n  return (\n    <div className={classes.noOutline} onFocus={handleFocus(true)} onBlur={handleFocus(false)} tabIndex=\"-1\">\n      {props.children}\n    </div>\n  )\n}\n","import React, { memo } from 'react';\n\nimport {\n  DIRECTION_ACROSS,\n  DIRECTION_DOWN,\n}  from './constants';\n\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nexport function decode(input)\n{\n  var doc = new DOMParser().parseFromString(input, \"text/html\");\n  return doc.documentElement.textContent;\n}\n\nexport default memo(function Clues({grid, onClueFocus, onClueChanged}) {\n    const handleFocus = (dir, clueNum) => (e) => {\n      onClueFocus(dir, clueNum)\n    }\n\n    const handleUpdateWord = (dir, word) => e => {\n      onClueChanged(dir, word, e.target.value)\n    }\n\n    const mapClues = (dir) => {\n      const d = dir.toLowerCase()\n      return grid.clues[d].map((clue, i) => {\n        const word = grid.answers[d][i]\n        const clueNum = +clue.match(/^ *[0-9]+/)[0].trim()\n        const clueText = decode(clue.replace(/^ *[0-9]*\\. */, ''))\n        const disabled = word.match(\"_\")\n        const error = !disabled && !clueText.length\n        return (\n            <TextField\n              key={`${clueNum}-${word}`}\n              label={`${clueNum}: ${word}`}\n              defaultValue={clueText}\n              type=\"text\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={handleFocus(dir, clueNum)}\n              onBlur={handleUpdateWord(dir, word)}\n              disabled={disabled}\n              error={error}\n            />\n        )\n      })\n    }\n\n    const across = mapClues(DIRECTION_ACROSS)\n    const down = mapClues(DIRECTION_DOWN)\n    return (\n      <div>\n        <Grid container spacing={1}>\n          <Grid item xs>\n            <Typography>Across</Typography>\n              {across}\n          </Grid>\n          <Grid item xs>\n            <Typography>Down</Typography>\n              {down}\n          </Grid>\n        </Grid>\n      </div>\n    )\n  })\n","import React from 'react';\n\nimport XGrid from './XGrid'\nimport {decode} from './Clues'\n\n\nexport default function PrintView({grid}) {\n  const ulStyle = {\n    width: 'calc(50vw - 40px)',\n    columnCount: 2,\n    margin: 0,\n    padding: 0,\n  }\n  const liStyle = {\n    margin: 0,\n    listStyleType: 'none',\n  }\n\n  const containerStyle = {\n    overflow: 'hidden',\n    marginTop: 40,\n    marginRight: 20,\n    marginLeft: 20,\n    height: \"calc(100vh - 40px)\",\n  }\n\n  const gridStyle = {\n    float: 'right',\n    width: '50vmin',\n    height: '50vmin'\n  }\n\n  const mapClue = (v)  => {\n    const clueNum = +v.match(/^ *[0-9]+/)[0].trim()\n    const clueText = decode(v.replace(/^ *[0-9]*\\. */, ''))\n    return (\n      <li style={liStyle} key={v}>\n        <b style={{marginRight: 2}}>{clueNum}</b>\n        {clueText}\n      </li>\n    )\n  }\n\n  /*\n      */\n  return (\n    <div style={containerStyle}>\n      <div style={gridStyle}>\n        <XGrid grid={grid} hideAnswers={true}/>\n      </div>\n      <ul style={ulStyle}>\n        <li style={liStyle}><b>ACROSS</b></li>\n        {grid.clues.across.map(mapClue)}\n        <li style={liStyle}><b>DOWN</b></li>\n        {grid.clues.down.map(mapClue)}\n      </ul>\n    </div>\n  )\n}\n","import React, { memo, useState, useEffect, useCallback } from 'react';\nimport clsx from 'clsx';\nimport './App.css';\nimport XGrid from './XGrid'\nimport NewPuzzleForm from './NewPuzzleForm'\nimport KeyPressHandler from './KeyPressHandler'\nimport Clues, {decode} from './Clues'\nimport PrintView from './Print'\nimport {\n  isDirectionAcross,\n  isBlockedSquare,\n  DIRECTION_ACROSS,\n  DIRECTION_DOWN,\n}  from './constants';\nimport { coord2dTo1d, valFrom2d } from './helpers';\n\nimport { saveAs } from 'file-saver';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n  },\n  title: {\n    flexGrow: 1\n  },\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12,\n    paddingTop: 32,\n  },\n  paper: {\n    padding: 10,\n  },\n  scroll: {\n    overflow: \"scroll\",\n    maxHeight: \"calc(100vh - 180px)\",\n  }\n}));\n\nconst GridStats = ({grid}) => {\n  return null\n  // get {A: 0 ... Z:0)\n  const letters = [...Array(26).keys()].map(i => String.fromCharCode(i + 65)).reduce((acc, v) => ((acc[v] = 0) || acc), {})\n  // add counts of single letters\n  const letterCounts = grid.grid.map(v => v).filter(v => v && v.match(/^[A-Z]$/)).reduce((acc, v) => ((acc[v] = (acc[v] || 0) + 1) && acc), letters)\n\n  const calcWordCount = (down) => {\n    const count = {}\n    for (let i=0; i<=grid.size.rows; ++i) {\n      let len = 0\n      for (let j=0; j<=grid.size.cols; ++j) {\n        let v = down ?  valFrom2d(grid, j, i) : valFrom2d(grid, i, j)\n        if(isBlockedSquare(v)) {\n          len += 1\n        } else {\n          if (len > 0) {\n            count[len] = (count[len] || 0) + 1\n          }\n          len = 0\n        }\n      }\n      if (len > 0) {\n        count[len] = (count[len] || 0) + 1\n      }\n    }\n\n    return count\n  }\n\n  const wordLengthsAccross = calcWordCount()\n  const wordLengthsDown = calcWordCount(true)\n  const totalCount = Object.values(wordLengthsAccross).reduce((acc, v) => acc+v, 0) +\n                      Object.values(wordLengthsDown).reduce((acc, v) => acc+v, 0)\n\n  return (\n    <div>\n      {JSON.stringify(letterCounts)}\n      <br/>\n      Across\n      <br/>\n      {JSON.stringify(wordLengthsAccross)}\n      <br/>\n      Down\n      <br/>\n      {JSON.stringify(wordLengthsDown)}\n      <br/>\n      Total: {totalCount}\n    </div>\n  )\n}\n\n\nlet WORDLIST = null\n\nconst WordList = memo(({currentWord, onClick}) => {\n  const [words, setWordsState] = useState(WORDLIST || [])\n  const [filtered, setFiltered] = useState([])\n\n  const setWords = (words) => {\n    //cache wordlist incase component unmounts\n    WORDLIST = words\n    setWordsState(words)\n  }\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/wordlist/wordlist.txt`)\n      .then(resp => resp.text())\n      .then(text =>\n          text.split(\"\\n\")\n            .filter(l => !l.startsWith(\"#\")))\n      .then(w => setWords(w))\n  }, [])\n\n  useEffect(() => {\n    const query = new RegExp(\"^\"+currentWord.word+\"$\", \"i\")\n    setFiltered(words.filter(w => w.match(query)))\n  }, [words, currentWord.word])\n\n  const max = 100\n\n  /*\n          <ListItem\n            key={w}\n            component=\"a\"\n            target=\"_blank\"\n            href={`https://www.anagrammer.com/crossword-clues/${w}`}>\n            */\n\n  return <div>\n    Words: {filtered.length > max ? `showing ${max}/` : ''}{filtered.length}\n    <List dense>\n      {filtered.slice(0,max).map(w =>\n          <ListItem\n            button\n            onClick={() => onClick(w)}\n            key={w}>\n            {w}\n          </ListItem>\n       )}\n    </List>\n  </div>\n})\n\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  let style = {}\n  let hidden = value !== index\n\n  if (hidden) {\n    return <div></div>\n  }\n\n  return <div>\n    {children}\n  </div>\n}\n\n\nfunction calcNumbersAndAnswers(grid, wordToClue) {\n  const {rows, cols} = grid.size\n  let out = {\n    gridnums: grid.grid.map(r => 0), // clone grid\n    answers: {down: [], across: []},\n    clues: {down: [], across: []}\n  }\n\n  let num = 1;\n  for (let i=0; i<rows; ++i){\n    for (let j=0; j<cols; ++j) {\n      if (isBlockedSquare(valFrom2d(grid, i, j))) continue;\n\n      const isNewDown = (i === 0 || isBlockedSquare(valFrom2d(grid,i-1,j))) && !(i === rows || isBlockedSquare(valFrom2d(grid,i+1,j)))\n      const isNewAcross = (j === 0 || isBlockedSquare(valFrom2d(grid,i,j-1))) && !(j === cols || isBlockedSquare(valFrom2d(grid,i,j+1)))\n      if(isNewAcross || isNewDown) {\n        out.gridnums[coord2dTo1d(grid, i, j)] = num++;\n      }\n\n      if(isNewAcross) {\n        let currentWord = \"\"\n        let start = j;\n        while(!isBlockedSquare(valFrom2d(grid,i,start)) && start < cols) {\n          let w = valFrom2d(grid, i, start)\n          currentWord += w ? w : '_'\n          start++\n        }\n        out.answers.across.push(currentWord)\n        let clue = wordToClue[currentWord] || ''\n        out.clues.across.push(`${num-1}. ${clue}`)\n      }\n\n      if(isNewDown) {\n        let currentWord = \"\"\n        let start = i;\n        while(!isBlockedSquare(valFrom2d(grid,start,j)) && start < rows) {\n          let w = valFrom2d(grid, start, j)\n          currentWord += w ? w : '_'\n          start++\n        }\n        out.answers.down.push(currentWord)\n        let clue = wordToClue[currentWord] || ''\n        out.clues.down.push(`${num-1}. ${clue}`)\n      }\n\n    }\n  }\n\n  return out;\n}\n\nfunction calcCurrentWord({direction, grid, selected}) {\n    if (!selected) { return null }\n\n    const valFor = (x) => isDirectionAcross(direction) ? valFrom2d(grid, selected.row, x) : valFrom2d(grid, x, selected.column)\n    const coordinatesFor = (x) => isDirectionAcross(direction) ? [selected.row, x] : [x, selected.column]\n    const isNotEnd = (end) => isDirectionAcross(direction) ? end < grid.size.cols : end < grid.size.rows\n\n    let start = isDirectionAcross(direction) ? selected.column : selected.row;\n    let end = start\n\n    // Find beginning\n    // Then find end of the word\n    // When convert those values into an string and convert blanks to . for word search\n    // also compile list of coordinates for grid highlighting\n    //  finally set the new state\n    while(start>0 && !isBlockedSquare(valFor(start))) start--;\n    while(isNotEnd(end) && !isBlockedSquare(valFor(end))) end++;\n    if (isBlockedSquare(valFor(start))) start++;\n\n    let word = \"\"\n    let coordinates = []\n\n    for(let i=start; i<end; ++i) {\n      let v = valFor(i)\n      if (v === \"\") v = \".\";\n      word += v\n      coordinates.push(coordinatesFor(i))\n    }\n\n    return { word, coordinates }\n}\n\n// Format specified by https://www.xwordinfo.com/JSON/\nconst makePuzzle = (size) => {\n  let g = {\n    title: \"TODO: NY Times, Thu, Sep 11, 2008\",\n    author: \"TODO: Caleb Madison\",\n    editor: \"TODO: Will Shortz\",\n    copyright: \"TODO: 2008, The New York Times\",\n    publisher: \"TODO: The New York Times\",\n    date: \"TODO: 9/11/2008\",\n    size,\n    // clues should include number as well e.g. \"1. Waxed\"\n    clues: {\n      across: [],\n      down: []\n    }\n  }\n  return Object.assign(g, {\n    // '.' means black, multiple letters valid for rebus\n    grid: [...Array(g.size.rows*g.size.cols).keys()].map(v => \"\"),\n    // 0 means no number\n    gridnums: [...Array(g.size.rows*g.size.cols).keys()].map(v => 0),\n    // TODO: 0 means circle 1 means circle\n    circles: [...Array(g.size.rows*g.size.cols).keys()].map(v => 0),\n  })\n}\n\nfunction parseWordToClue(grid) {\n  const newWordToClue = {}\n  if (grid.answers) {\n    const parse = dir => {\n      grid.answers[dir]\n      .filter(w => !w.match('_'))\n      .reduce((acc, w, i) => {\n        let ww = (grid.clues[dir][i] || '').replace(/^ *[0-9]*\\. */, '')\n        acc[w] = ww\n        return acc\n      }, newWordToClue)\n    }\n\n    parse('down')\n    parse('across')\n  }\n\n  return newWordToClue\n}\n\nconst initialGridState = function intialGridState() {\n    const grid = JSON.parse(localStorage.getItem(\"grid\")) || makePuzzle({rows: 15, cols: 15})\n    const wordToClue = parseWordToClue(grid)\n\n    return {grid, wordToClue}\n}()\n\nconst currentWordInitialState = {word: \"\", direction: DIRECTION_ACROSS, coordinates: []}\n\nfunction ReactiveGrid({children}) {\n  let [width, setWidth] = useState(\"100%\")\n  let gridRef = React.createRef();\n\n  const handleResize = () => {\n    gridRef.current && setWidth(gridRef.current.clientWidth)\n  }\n\n  useEffect(() => {\n    // add event listener then call function on first render to ensure size is correct\n    window.addEventListener('resize', handleResize)\n    handleResize()\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [])\n\n  return (\n    <div ref={gridRef} style={{width: width, height: width}}>\n      {children}\n    </div>\n  )\n\n}\n\n\nfunction App() {\n  const classes = useStyles()\n  const theme = useTheme()\n  const [isPrint, setIsPrint] = useState(false)\n  const [tabValue, handleTabChanged] = useState(0)\n  const [motionState, setMotionState] = useState({selected: null, currentWord: currentWordInitialState})\n  const [gridState, updateAllGridState] = useState(initialGridState)\n  const {wordToClue, grid} = gridState\n\n\n  const {selected, currentWord} = motionState\n\n  const updateGridState = (nextGrid, extraState) => {\n    extraState = extraState || {}\n    updateAllGridState((prevState) => {\n      let nextState = {\n        ...prevState,\n        ...extraState,\n        grid: nextGrid\n      }\n      nextState.grid = {...nextState.grid, ...calcNumbersAndAnswers(nextState.grid, nextState.wordToClue)}\n      return nextState\n    })\n  }\n\n  const updateWordToClue = (word, clue) => {\n    updateAllGridState((prevState) => {\n      let nextState = {\n        ...prevState,\n        wordToClue: {\n          ...prevState.wordToClue,\n          [word]: clue\n        }\n      }\n      nextState.grid = {...nextState.grid, ...calcNumbersAndAnswers(nextState.grid, nextState.wordToClue)}\n      return nextState\n    })\n  }\n\n  const setCurrentWord = useCallback((currentWord) => {\n    setMotionState((prevState) => ({\n      ...prevState,\n      currentWord: {\n        ...prevState.currentWord,\n        ...currentWord\n      }\n    }))\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(\"grid\", JSON.stringify(grid))\n  },\n    [grid, wordToClue]\n  )\n\n  useEffect(() => {\n    const nextCw = calcCurrentWord({selected, direction: currentWord.direction, grid})\n    nextCw && setCurrentWord(nextCw)\n  }, [setCurrentWord, selected, grid, currentWord.direction])\n\n\n  const setSelected = (nextSelected) => {\n    let nextCurrentWord = motionState.currentWord\n\n    //swap direction if selected is double clicked\n    if(nextSelected && selected && nextSelected.row === selected.row && nextSelected.column === selected.column) {\n      nextCurrentWord = {\n        ...nextCurrentWord,\n        direction: currentWord.direction === DIRECTION_ACROSS ? DIRECTION_DOWN : DIRECTION_ACROSS\n      }\n    }\n\n    setMotionState({\n      ...motionState,\n      selected: nextSelected,\n      currentWord: nextCurrentWord\n    })\n  }\n\n  const handleClueFocus = useCallback((direction, clueNum) => {\n    let selected = {}\n    for(let i=0; i<grid.gridnums.length; ++i) {\n      if(grid.gridnums[i] == clueNum) {\n        const row = Math.floor(i / grid.size.cols)\n        const column = Math.floor(i % grid.size.cols)\n        selected = {\n          row, column\n        }\n        break;\n      }\n    }\n\n    setMotionState((prevState) => ({\n      ...prevState,\n      currentWord: {\n        ...currentWordInitialState,\n        direction,\n      },\n      selected,\n    }))\n  }, [grid])\n\n  const handleClueChanged = useCallback((direction, word, clue) => {\n    updateWordToClue(word, clue)\n  }, [])\n\n  const handleSavePuzzle = () => {\n    var blob = new Blob([JSON.stringify(grid)], {type: \"text/plain;charset=utf-8\"});\n    saveAs(blob, \"puzzle.json\")\n  }\n\n  // TODO handle failure and validate puzzle format\n  const handleImportPuzzle = (e) => {\n    let input = e.target;\n\n    let reader = new FileReader();\n    reader.onload = function(){\n      let text = reader.result;\n      const newGrid = JSON.parse(text)\n      updateGridState(newGrid, {\n        wordToClue: parseWordToClue(newGrid)\n      })\n    };\n\n    reader.readAsText(input.files[0]);\n  }\n\n  const handleCreateNewPuzzle = (size) => {\n    updateGridState(makePuzzle(size))\n    setSelected()\n  }\n\n  const handleWordListClicked = useCallback(word => {\n    currentWord.coordinates.forEach((coord, i) => {\n      grid.grid[coord2dTo1d(grid, coord[0], coord[1])] = word[i]\n    })\n    updateGridState(grid)\n  }, [grid, currentWord])\n\n\n  const clsGridPaper = clsx(classes.paper)\n  const clsScrollPaper = clsx(classes.paper, classes.scroll)\n\n  const kphProps = {\n    selected,\n    setSelected,\n    setCurrentWord,\n    currentWord,\n    grid,\n    updateGrid: updateGridState,\n  }\n\n  useEffect(() => {\n    const listener = (e) => setIsPrint(e.matches)\n    window.matchMedia(\"print\").addListener(listener)\n    window.onbeforeprint = () => setIsPrint(true)\n    window.onafterprint = () => setIsPrint(false)\n  }, [])\n\n  const separateGrid = useMediaQuery(theme.breakpoints.up('lg'))\n\n  if (isPrint) {\n    return <PrintView grid={grid} />\n  }\n\n  let tabs = [\n    {label: \"Word List\", children: (\n      <Paper className={clsScrollPaper} >\n        <WordList onClick={handleWordListClicked} currentWord={currentWord}/>\n      </Paper>\n    )},\n    {label: \"Clues\", children: (\n      <Paper className={clsScrollPaper} >\n        <Clues grid={grid} onClueFocus={handleClueFocus} onClueChanged={handleClueChanged}/>\n      </Paper>\n    )},\n  ]\n\n  let gridComponent = null\n\n  const _gridComponent = (\n    <KeyPressHandler {...kphProps}>\n      <Paper className={clsGridPaper} >\n        <ReactiveGrid>\n          <XGrid grid={grid} selected={motionState.selected} currentWord={motionState.currentWord} onClick={setSelected} />\n        </ReactiveGrid>\n      </Paper>\n    </KeyPressHandler>\n  )\n\n  if (separateGrid) {\n    gridComponent = _gridComponent\n  } else {\n    tabs = [{label: \"Grid\", children: _gridComponent}, ...tabs]\n  }\n\n  const renderedTabs = (\n    <React.Fragment>\n      <Tabs value={tabValue} onChange={(e,nv) => handleTabChanged(nv)}>\n        {tabs.map(t => <Tab key={t.label} label={t.label}/>)}\n      </Tabs>\n      {tabs.map((t,i) => <TabPanel key={t.label} value={tabValue} index={i}>{t.children}</TabPanel>)}\n    </React.Fragment>\n  )\n\n  return (\n    <div className=\"App\">\n      <AppBar position=\"static\">\n       <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          XWordMaker\n        </Typography>\n        <Button\n          aria-label=\"Save puzzle\"\n          color=\"inherit\"\n          startIcon={<SaveAlt />}\n          onClick={handleSavePuzzle}\n        >\n          Save Puzzle\n        </Button>\n        <Button\n          aria-label=\"Load puzzle\"\n          color=\"inherit\"\n          component=\"label\"\n          startIcon={<ArrowUpwardIcon />}\n        >\n          Load Puzzle\n          <input\n            type=\"file\"\n            style={{ display: \"none\" }}\n            onChange={handleImportPuzzle}\n            />\n        </Button>\n        <NewPuzzleForm onSave={handleCreateNewPuzzle}/>\n       </Toolbar>\n      </AppBar>\n      <Container className={classes.container}>\n        <Grid container spacing={2}>\n        { separateGrid && (\n          <Grid item lg={6} >\n            {gridComponent}\n          </Grid>\n        )}\n          <Grid item lg={6}>\n            {renderedTabs}\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}