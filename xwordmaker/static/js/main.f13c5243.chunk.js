(this["webpackJsonpcrossword-maker"]=this["webpackJsonpcrossword-maker"]||[]).push([[0],{28:function(e,t,r){e.exports=r(41)},33:function(e,t,r){},34:function(e,t,r){e.exports=r.p+"static/media/logo.25bf045c.svg"},35:function(e,t,r){},36:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(10),o=r.n(a),i=(r(33),r(2)),l=r(25),u=r(16),s=r(12),d=r(8),m=r(3);r(34),r(35),r(36);function h(e){var t=e.width,r=e.height,n=e.grid,a=e.selected,o=e.currentWord,i=e.clueNumbers,l=e.onClick,u=Object(d.a)(Array(t*r).keys()).map((function(e){var r=Math.floor(e/t),u=Math.floor(e%t),s=n[r][u],d=a&&a.row===r&&a.column===u,m=["Grid-item"];"!"===s&&m.push("Grid-item-blocked"),d?m.push("Grid-item-selected"):o.coordinates.some((function(e){return e[0]===r&&e[1]===u}))&&m.push("Grid-item-highlight");var h=m.join(" "),f={fontSize:"".concat(1/s.length*1.1,"em")};return c.a.createElement("div",{key:e,className:h,onClick:function(){return l({row:r,column:u})}},c.a.createElement("span",{className:"Grid-number"},i[r][u]),c.a.createElement("span",{style:f},s))}));return c.a.createElement("div",{style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridTemplateRows:"repeat(".concat(t,", 1fr)")},className:"Grid-container"},u)}var f=r(65),w=r(69),g=r(67),v=r(68),p=r(71),b=r(70),O=r(66),y=r(72),E="ACROSS",k="DOWN",j=Object(f.a)((function(e){return{root:{display:"flex"},container:{paddingLeft:12,paddingRight:12},paper:{padding:10},gridPaper:{width:"75vmin",height:"75vmin",float:"left"},scroll:{overflow:"scroll",maxHeight:"calc(100vh - 100px)"}}})),S=function(e){var t=e.grid,r=Object(d.a)(Array(26).keys()).map((function(e){return String.fromCharCode(e+65)})).reduce((function(e,t){return(e[t]=0)||e}),{}),n=t.flatMap((function(e){return e.map((function(e){return e}))})).filter((function(e){return e.match(/^[A-Z]$/)})).reduce((function(e,t){return(e[t]=(e[t]||0)+1)&&e}),r),a=function(e){for(var r={},n=0;n<=t.length-1;++n){for(var c=0,a=0;a<=t[0].length-1;++a){"!"!==(e?t[a][n]:t[n][a])?c+=1:(c>0&&(r[c]=(r[c]||0)+1),c=0)}c>0&&(r[c]=(r[c]||0)+1)}return r},o=a(),i=a(!0),l=Object.values(o).reduce((function(e,t){return e+t}),0)+Object.values(i).reduce((function(e,t){return e+t}),0);return c.a.createElement("div",null,JSON.stringify(n),c.a.createElement("br",null),"Across",c.a.createElement("br",null),JSON.stringify(o),c.a.createElement("br",null),"Down",c.a.createElement("br",null),JSON.stringify(i),c.a.createElement("br",null),"Total: ",l)},W=function(e){var t=e.currentWord,r=Object(n.useState)([]),a=Object(s.a)(r,2),o=a[0],i=a[1],l=Object(n.useState)([]),u=Object(s.a)(l,2),d=u[0],m=u[1];Object(n.useEffect)((function(){fetch("".concat("/xwordmaker","/wordlist/wordlist.txt")).then((function(e){return e.text()})).then((function(e){return e.split("\n").filter((function(e){return!e.startsWith("#")}))})).then((function(e){return i(e)}))}),[]),Object(n.useEffect)((function(){var e=new RegExp("^"+t.word+"$","i");m(o.filter((function(t){return t.match(e)})))}),[t.word]);return c.a.createElement("div",null,"Words: ",d.length>200?"showing ".concat(200,"/"):"",d.length,c.a.createElement(O.a,null,d.slice(0,200).map((function(e){return c.a.createElement(y.a,{key:e,component:"a",target:"_blank",href:"https://www.anagrammer.com/crossword-clues/".concat(e)},e)}))))},x=JSON.stringify(Object(d.a)(Array(15).keys()).map((function(e){return Object(d.a)(Array(15).keys()).map((function(e){return""}))}))),N=function(){function e(t){var r=t.selected,n=t.width,c=t.height,a=t.currentWord,o=t.setSelected;Object(l.a)(this,e),this.selected=r,this.width=n,this.height=c,this.setSelected=o,this.currentWord=a}return Object(u.a)(e,[{key:"right",value:function(){this.setSelected({row:this.selected.row,column:Math.min(this.width-1,this.selected.column+1)})}},{key:"left",value:function(){this.setSelected({row:this.selected.row,column:Math.max(0,this.selected.column-1)})}},{key:"up",value:function(){this.setSelected({row:Math.max(0,this.selected.row-1),column:this.selected.column})}},{key:"down",value:function(){this.setSelected({row:Math.min(this.height-1,this.selected.row+1),column:this.selected.column})}},{key:"moveForward",value:function(){this.currentWord.direction===E?this.right():this.down()}},{key:"moveBack",value:function(){this.currentWord.direction===E?this.left():this.up()}}]),e}();function A(e){var t=e.children,r=e.value,n=e.index,a=(Object(i.a)(e,["children","value","index"]),{});return r!==n&&(a.display="none"),c.a.createElement("div",{style:a},t)}function C(e){var t=e.width,r=e.height,a=e.selected,o=e.setSelected,i=e.setCurrentWord,l=e.currentWord,u=e.grid,s=e.updateGrid,m=function(e){if(a){var n=new N({width:t,height:r,setSelected:o,currentWord:l,selected:a});if("Backspace"===e.key)"!"===u[a.row][a.column]&&(u[r-a.row-1][t-a.column-1]=""),u[a.row][a.column]="",n.moveBack(),s(Object(d.a)(u));else if(e.key.match(/^[a-z]$/i)){var c=e.key.toUpperCase();e.ctrlKey?u[a.row][a.column]+=c:(u[a.row][a.column]=c,n.moveForward()),s(Object(d.a)(u))}else"!"===e.key?(u[a.row][a.column]=e.key,u[r-a.row-1][t-a.column-1]=e.key,n.moveForward(),s(Object(d.a)(u))):" "===e.key?i(Object.assign({},l,{direction:l.direction===E?k:E})):"ArrowRight"==e.key?n.right():"ArrowLeft"==e.key?n.left():"ArrowUp"==e.key?n.up():"ArrowDown"==e.key&&n.down()}};return Object(n.useEffect)((function(){return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}})),c.a.createElement(c.a.Fragment,null)}function G(e){for(var t=e.map((function(e){return e.map((function(e){return""}))})),r=1,n=0;n<e.length;++n)for(var c=0;c<e[n].length;++c)"!"!==e[n][c]&&((0!==n&&"!"!==e[n-1][c]||n===e.length&&"!"===e[n+1][c])&&(0!==c&&"!"!==e[n][c-1]||c===e[n].length&&"!"!==e[n][c+1])||(t[n][c]=r++));return t}var J=function(){var e=j(),t=Object(n.useState)(0),r=Object(s.a)(t,2),a=r[0],o=r[1],i=Object(n.useState)(),l=Object(s.a)(i,2),u=l[0],d=l[1],f=Object(n.useState)({word:"",direction:E,coordinates:[]}),O=Object(s.a)(f,2),y=O[0],k=O[1],N=Object(n.useState)(JSON.parse(localStorage.getItem("grid")||x)),J=Object(s.a)(N,2),M=J[0],B=J[1],L=Object(n.useState)(G(M)),R=Object(s.a)(L,2),F=R[0],$=R[1],D=M[0].length,I=M.length;Object(n.useEffect)((function(){return $(G(M))}),[M]),Object(n.useEffect)((function(){if(u){for(var e=function(e){return y.direction===E?M[u.row][e]:M[e][u.column]},t=function(e){return y.direction===E?e<D:e<I},r=y.direction===E?u.column:u.row,n=r;r>0&&"!"!==e(r);)r--;for(;t(n)&&"!"!==e(n);)n++;"!"===e(r)&&r++;for(var c="",a=[],o=r;o<n;++o){var i=e(o);""===i&&(i="."),c+=i,a.push((l=o,y.direction===E?[u.row,l]:[l,u.column]))}k(Object.assign({},y,{word:c,coordinates:a}))}var l}),[u,y.direction]);var T=Object(m.a)(e.paper,e.gridPaper),z=Object(m.a)(e.paper,e.scroll),P={width:D,height:I,selected:u,setSelected:d,setCurrentWord:k,currentWord:y,grid:M,updateGrid:function(e){localStorage.setItem("grid",JSON.stringify(e)),B(e)}};return c.a.createElement("div",{className:"App"},c.a.createElement(C,P),c.a.createElement(g.a,{className:e.container},c.a.createElement(v.a,{container:!0,spacing:0},c.a.createElement(v.a,{item:!0,xs:!0},c.a.createElement(w.a,{className:T},c.a.createElement(h,{width:D,height:I,grid:M,selected:u,currentWord:y,onClick:d,clueNumbers:F}))),c.a.createElement(v.a,{item:!0,xs:6},c.a.createElement(p.a,{value:a,onChange:function(e,t){return o(t)}},c.a.createElement(b.a,{label:"Word List"}),c.a.createElement(b.a,{label:"Grid Stats"})),c.a.createElement(A,{value:a,index:0},c.a.createElement(w.a,{className:z},c.a.createElement(W,{currentWord:y}))),c.a.createElement(A,{value:a,index:1},c.a.createElement(w.a,{className:z},c.a.createElement(S,{grid:M})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.f13c5243.chunk.js.map